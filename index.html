<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timetable Redirect</title>
    <script>
        // Calculate week and redirect
        var startDate = new Date(2025, 7, 30); // August 30, 2025 (Saturday) - start of week 1
        var today = new Date();
        var timeDiff = today.getTime() - startDate.getTime();
        var deltaDays = Math.floor(timeDiff / (1000 * 3600 * 24));
        var week = Math.floor(deltaDays / 7) + 1;
        
        if (week > 34) {
            document.body.innerHTML = "<h1>Error: Today is week " + week + ", which is beyond week 34.</h1>";
        } else if (week < 1) {
            document.body.innerHTML = "<h1>Error: Date is before week 1.</h1>";
        } else {
            var url = "http://timetablingunmc.nottingham.ac.uk:8006/reporting/Individual;programme+of+study;id;UG/M1027/M7UMTENG/F/01%0D%0A?days=1-5&weeks=" + week + "&periods=3-20&template=SWSCUST+programme+of+study+Individual&height=100&week=100";
            // window.location.href = url;
            document.body.innerHTML = "<h1>Testing</h1>"
        }
    </script>
</head>
<body>
    <p>Calculating current week and redirecting to timetable...</p>
</body>
</html>
